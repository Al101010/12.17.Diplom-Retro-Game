<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>12.17-dz</title>
    <!-- <script src="slow.js"></script> -->
</head>
<body>
    <h1>12.17 ДЗ</h1>
    
    <script>
class Character {
    constructor(level = 1, type = 'generic') {
        this.level = level;
        this.attack = 0;
        this.defence = 0;
        this.health = 50;
        this.type = type;
        
        // TODO: выбросите исключение, если кто-то использует "new Character()"
        if (new.target.name === 'Character') {
            throw new Error('исключение - запрещено использовать new Character()')
        }
    }
}

// const character = new Character();
// console.log(character);

console.log('--------------------------- ooops -1---------------------------------');
class Bowman extends Character {
    constructor(level, type = 'Bowman') {
        super(level, type);
        if (type === 'Bowman') {
            this.type = type;
            this.attack = 25;
            this.defence = 25;
        } else {
            throw new Error('исключение - неправильный ТИП')
        }
    }
}

class Swordsman extends Character {
    constructor(level, type = 'Swordsman') {
        super(level, type);
        if (type === 'Swordsman') {
            this.type = type;
            this.attack = 40;
            this.defence = 10;
        } else {
            throw new Error('исключение - неправильный ТИП')
        }
    }
}

class Magician extends Character {
    constructor(level, type = 'Magician') {
        super(level, type);
        if (type === 'Magician') {
            this.type = type;
            this.attack = 10;
            this.defence = 10;
        } else {
            throw new Error('исключение - неправильный ТИП')
        }
    }
}
const bowman = new Bowman();
console.log(bowman);
const swordsman = new Swordsman();
console.log(bowman);
const magician = new Magician();
console.log(magician);


console.log('--------------------------- ooops ----------------------------------');
function randomInteger(min, max) {
  // случайное число от min до (max+1)
  let rand = min + Math.random() * (max + 1 - min);
  return Math.floor(rand);
}
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log((randomInteger(1, 3) - 1));
console.log('--------------------------- ooops ----------------------------------');

const playerTypes = [bowman, swordsman, magician];
console.log(playerTypes[0]);
console.log(playerTypes[1]);
console.log(playerTypes[2]);

// export function* characterGenerator(allowedTypes, maxLevel) {

function* randomIntegerPlayerTypes(allowedTypes, maxLevel) {
    while (true) {
        yield playerTypes[Math.floor(Math.random() * (maxLevel + 1))];
    }
}

// function* randomIntegerPlayerTypes(min, max) {
//     let rand = min + Math.random() * (max + 1 - min);
//     while (true) {
//         yield playerTypes[Math.floor(rand)];
//     }
// }

// function randomIntegerPlayerTypes(min, max) {
//   // случайное число от min до (max+1)
//   let rand = min + Math.random() * (max + 1 - min);
//   return playerTypes[Math.floor(rand)];
// }
console.log('--------------------------- ooops ----------------------------------');
randomIntegerPlayerTypes(0, 2).next()
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log(randomIntegerPlayerTypes(0, 2).next().value);
console.log('--------------------------- ooops --a--------------------------------');
function* characterGenerator(allowedTypes, maxLevel) {
  // TODO: write logic here

  while (true) {
    yield playerTypes[Math.floor(Math.random() * (maxLevel + 1))];
  }
}
    </script>
</body>
</html>